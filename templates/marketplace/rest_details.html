{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
        .category-nav {
            position: fixed;
            top: 60px;
            background-color: #f2f2f2;
            height: calc(100% - 60px);
            overflow-y: auto;
        }

        .category-item {
            cursor: pointer;
        }

        .category-item:hover {
            background-color: #ff3300;
            color: black
        }

        .menu-item {
            margin-bottom: 20px;
        }

        .menu-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 5px;
        }

        .menu-item .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .menu-item .card:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
    </style>


<div class="container-fluid page-body-wrapper" style="margin-top: 18px">
        <div class="main-panel">
          <div class="content-wrapper">
            {% include 'includes/cover.html' %}
          </div>
<!-- Main Content -->
<div class="container-fluid" style="margin-top: 80px; margin-left:20px;" xmlns="http://www.w3.org/1999/html">
        <div class="row">
            <h3>Menu</h3>
            <div class="sidebar-sticky" style="width:200px;">
                <ul class="nav flex-column">
                    {% for c in cat %}
                    <li class="nav-item">
                        <a class="nav-link category-item" href="#">
                            {{c.cat_name}}
                        </a>
                    </li>
                    {% endfor %}
                </ul>
            </div>

                <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4 mb-5">
                <div class="pt-3">

                        {% for c in cat %}
                    <h3 id="{{ c.slug }}">Category: {{c.cat_name}}</h3>
                    <span>{{c.description}}</span>
                    <div class="row mt-2">
                        {% for food in c.fooditems.all %}
                        <div class="col-md-4 menu-item">
                            <div class="card">
                                <img src="{{ food.image.url }}" class="card-img-top" alt="{{ food.food_title}}">
                                <div class="card-body">
                                    <h5 class="card-title">{{food.food_title}}</h5>
                                    <p class="card-text">{{ food.description }}</p>
                                    <p class="card-text"><strong>{{ food.price }}</strong>
<!--                                    <a href="#" class="float-right add_to_cart" data-id = "{{ food.id }}" data-url="{% url 'add_to_cart' food.id %}"><i class='fas fa-plus-circle' style='font-size:24px;color:#ff3300'></i></a>-->
<!--                                        <label id="qty-{{ food.id }}" class="float-right mr-4 fw-bold">0</label>-->
<!--                                        <a href="#" class=" float-right mr-4"><i class='fas fa-minus-circle' style='font-size:24px;color:#ff3300'></i></a>-->
                                    </p>
                                    <p>
                                        <a><button class="btn btn-warning add_to_cart" data-id = "{{ food.id }}" data-url="{% url 'add_to_cart' food.id %}">Add to Cart</button></a>
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                </div>
                    {% for item in cart_items %}
                    <span id="qty-{{ item.foodItem.id }}" class="item_qty" data-qty="{{ item.quantity }}">{{ item.quantity }}</span>
                    {% endfor %}
            </main>
        </div>
    </div>
    </div>
</main>
        </div>

</div>



{% endblock %}